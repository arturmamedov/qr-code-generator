# .htaccess Setup Instructions

## üîê Setting Up HTTP Basic Authentication

The .htaccess file is configured to protect admin pages. You need to create a `.htpasswd` file with your credentials.

### Step 1: Update .htaccess Path

1. Open `.htaccess` file
2. Find this line:
   ```apache
   AuthUserFile /home/user/qr-code-generator/.htpasswd
   ```
3. Replace with the **absolute path** to your `.htpasswd` file on your server:
   ```apache
   AuthUserFile /var/www/html/qr.nestshostels.com/.htpasswd
   ```

### Step 2: Generate .htpasswd File

**Option A: Using htpasswd command (Linux/Mac)**
```bash
# Create new .htpasswd file with a user
htpasswd -c .htpasswd admin

# Add additional users (without -c flag)
htpasswd .htpasswd anotheruser
```

**Option B: Using Online Generator**
1. Visit: https://www.web2generators.com/apache-tools/htpasswd-generator
2. Enter your desired username and password
3. Copy the generated line
4. Create `.htpasswd` file with that content

**Option C: Using PHP Script (then delete it!)**
```php
<?php
// save as generate_htpasswd.php, run once, then DELETE
$username = 'admin';
$password = 'your_secure_password';
$hash = crypt($password, base64_encode($password));
file_put_contents('.htpasswd', "$username:$hash\n");
echo "Created .htpasswd file. DELETE this script now!";
?>
```

### Step 3: Verify Permissions

```bash
# Set correct permissions
chmod 644 .htpasswd
chmod 644 .htaccess
```

### Step 4: Test Authentication

1. Visit: https://qr.nestshostels.com/index.php
2. You should see a login prompt
3. Enter your credentials

## üìù Important Notes

- **NEVER** commit `.htpasswd` to git (it's already in .gitignore)
- The `.htpasswd` file should be in the same directory as `.htaccess`
- Admin pages protected: index.php, create.php, edit.php, api.php
- Public pages: r.php (redirect handler)
- Clean URLs work automatically: `/ABC123` ‚Üí `r.php?c=ABC123`

## üß™ Testing Clean URLs

After deployment, test these URLs:
- `https://qr.nestshostels.com/TEST12` ‚Üí should redirect or show 404
- `https://qr.nestshostels.com/r.php?c=TEST12` ‚Üí should also work

Both should work identically!
